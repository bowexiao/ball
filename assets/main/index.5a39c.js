window.__require=function t(e,o,n){function i(l,c){if(!o[l]){if(!e[l]){var s=l.split("/");if(s=s[s.length-1],!e[s]){var a="function"==typeof __require&&__require;if(!c&&a)return a(s,!0);if(r)return r(s,!0);throw new Error("Cannot find module '"+l+"'")}l=s}var h=o[l]={exports:{}};e[l][0].call(h.exports,function(t){return i(e[l][1][t]||t)},h,h.exports,t,e,o,n)}return o[l].exports}for(var r="function"==typeof __require&&__require,l=0;l<n.length;l++)i(n[l]);return i}({Ball:[function(t,e,o){"use strict";cc._RF.push(e,"b2306G/OthB86Mvr9vUR0iQ","Ball");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,l=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(l=(r<3?i(l):r>3?i(e,o,l):i(e,o))||l);return r>3&&l&&Object.defineProperty(e,o,l),l};Object.defineProperty(o,"__esModule",{value:!0});var l=t("./Global"),c=cc._decorator,s=c.ccclass,a=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onCollisionEnter=function(t,e){console.log("self====>",e);var o=e.node.parent;o.getComponent(cc.PhysicsCollider)&&o.removeComponent(cc.PhysicsCollider),o.getComponent(cc.RigidBody)&&o.removeComponent(cc.RigidBody),l.default.event.dispatch("ball_in_hole")},r([s],e)}(cc.Component));o.default=a,cc._RF.pop()},{"./Global":"Global"}],EventMgr:[function(t,e,o){"use strict";cc._RF.push(e,"f3cf98wI8tIZbbuC3G/1BuV","EventMgr"),Object.defineProperty(o,"__esModule",{value:!0}),o.EventMgr=void 0;var n=function(){function t(){this.eventHash={}}return t.prototype.register=function(t,e,o){var n={id:t,type:e,callback:o};this.eventHash.hasOwnProperty(e)||(this.eventHash[e]=[]),this.eventHash[e].push(n)},t.prototype.unregister=function(t,e){var o=this.eventHash[e];o&&o.length>0&&o.forEach(function(n,i){n.id===t&&n.type===e&&o.splice(i,1)})},t.prototype.dispatch=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];var n=this.eventHash[t];if(n&&n.length>0)for(var i in n){var r=n[i];"function"==typeof r.callback&&r.id&&r.callback.apply(r,e)}},t}();o.EventMgr=n,cc._RF.pop()},{}],Global:[function(t,e,o){"use strict";cc._RF.push(e,"3919eepik5Cjq7d3Qippglo","Global");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,l=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(l=(r<3?i(l):r>3?i(e,o,l):i(e,o))||l);return r>3&&l&&Object.defineProperty(e,o,l),l};Object.defineProperty(o,"__esModule",{value:!0});var l=t("./EventMgr"),c=cc._decorator,s=c.ccclass,a=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var o;return i(e,t),o=e,e.prototype.onLoad=function(){o.event=new l.EventMgr},e.prototype.start=function(){cc.game.addPersistRootNode(this.node)},e.event=null,o=r([s],e)}(cc.Component));o.default=a,cc._RF.pop()},{"./EventMgr":"EventMgr"}],scene:[function(t,e,o){"use strict";cc._RF.push(e,"e1131HsbkJMuJ67g+UbgkSI","scene");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,l=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(l=(r<3?i(l):r>3?i(e,o,l):i(e,o))||l);return r>3&&l&&Object.defineProperty(e,o,l),l};Object.defineProperty(o,"__esModule",{value:!0}),o.pintGroup=void 0;var l=t("./Global"),c=cc._decorator,s=c.ccclass,a=c.property;(function(t){t.inPointHole="inPointHole",t.ballPointIn="ballPointIn"})(o.pintGroup||(o.pintGroup={}));var h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ballPre=null,e.holeContent=null,e.holePrefab=null,e.arrow=null,e.ballInitPos=null,e.gravity=null,e.friction=null,e.restitution=null,e.gravityCur=null,e.frictionCur=null,e.restitutionCur=null,e.whiteNum=null,e.wallNum=null,e.ball=null,e}return i(e,t),e.prototype.onLoad=function(){cc.director.getPhysicsManager().enabled=!0,cc.director.getCollisionManager().enabled=!0},e.prototype.start=function(){this.node.on(cc.Node.EventType.TOUCH_MOVE,this.touchMove.bind(this)),this.node.on(cc.Node.EventType.TOUCH_START,this.touchStart.bind(this)),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.touchEnd.bind(this)),this.node.on(cc.Node.EventType.TOUCH_END,this.touchEnd.bind(this)),l.default.event.register("ball_in_hole","ball_in_hole",this.ballInHole.bind(this)),this.initMap(),this.initAllWall()},e.prototype.initWhite=function(){for(var t=0;t<this.holeContent.children.length;t++){var e=this.holeContent.children[t].getChildByName("stone").getComponent(cc.PhysicsCollider);this.whiteNum.string=e.restitution+""}},e.prototype.initAllWall=function(){this.initWall(this.node)},e.prototype.initWall=function(t){for(var e=0;e<t.children.length;e++)"wall"==t.children[e].group&&t.children[e].getComponent(cc.PhysicsCollider)&&(this.wallNum.string=t.children[e].getComponent(cc.PhysicsCollider).restitution+"",t[e]&&this.initWall(t[e]))},e.prototype.ballInHole=function(){this.ball.destroy(),this.ball=null},e.prototype.setAllWall=function(){this.setWall(this.node)},e.prototype.setWall=function(t){void 0===t&&(t=null);for(var e=0;e<t.children.length;e++)if("wall"==t.children[e].group){if(0==this.wallNum.string.length)return;t.children[e].getComponent(cc.PhysicsCollider).restitution=parseFloat(this.wallNum.string),t[e]&&this.setWall(t[e])}},e.prototype.setWhite=function(){for(var t=0;t<this.holeContent.children.length;t++){if(0==this.whiteNum.string.length)return;this.holeContent.children[t].getChildByName("stone").getComponent(cc.PhysicsCollider).restitution=parseFloat(this.whiteNum.string)}},e.prototype.initMap=function(){for(var t=this.holeContent.width/5,e=0;e<20;e++){var o=cc.instantiate(this.holePrefab);e%20<=5?o.setPosition(cc.v2(e*t,-100)):e%20>5&&e%20<=10?o.setPosition(cc.v2((e-5)*t-this.holeContent.width/10,-200)):e%20>10&&e%20<=14?o.setPosition(cc.v2((e-10)*t,-300)):e%20>14&&e%20<=17?o.setPosition(cc.v2((e-14)*t-this.holeContent.width/10+t,-400)):e%20>17&&e%20<=19&&o.setPosition(cc.v2((e-17)*t+this.holeContent.width/10*2,-500)),o.parent=this.holeContent}this.initWhite()},e.prototype.touchEnd=function(){if(this.ball){console.log("this.arrow===>",this.arrow.height);var t=this.ball.getComponent(cc.RigidBody),e=2*this.arrow.height;t.applyLinearImpulse(cc.v2(-e,e),this.node.convertToWorldSpaceAR(cc.v2(0,0)),!0),this.arrow.active=!1,this.arrow.height=100}},e.prototype.touchStart=function(){this.ball&&(this.arrow.active=!0)},e.prototype.touchMove=function(t){if(this.ball){var e=t.getLocation(),o=cc.winSize;this.arrow.height=-(e.y-o.height/2)-200+50,this.arrow.height<100&&(this.arrow.height=100)}},e.prototype.initball=function(){this.ball=cc.instantiate(this.ballPre),this.ball.parent=this.node,this.ball.setPosition(this.ballInitPos.getPosition());var t=this.ball.getComponent(cc.RigidBody),e=this.ball.getComponent(cc.PhysicsCollider);this.gravity.string.length>0&&(t.gravityScale=parseInt(this.gravity.string)),this.friction.string.length>0&&(e.friction=parseFloat(this.friction.string)),this.restitution.string.length>0&&(e.restitution=parseFloat(this.restitution.string)),this.gravityCur.string=t.gravityScale+"",this.frictionCur.string=e.friction+"",this.restitutionCur.string=e.restitution+""},e.prototype.update=function(){this.ball&&this.ball.y<=-1e3&&(this.ball.destroy(),this.ball=null)},r([a(cc.Prefab)],e.prototype,"ballPre",void 0),r([a(cc.Node)],e.prototype,"holeContent",void 0),r([a(cc.Prefab)],e.prototype,"holePrefab",void 0),r([a(cc.Node)],e.prototype,"arrow",void 0),r([a(cc.Node)],e.prototype,"ballInitPos",void 0),r([a(cc.EditBox)],e.prototype,"gravity",void 0),r([a(cc.EditBox)],e.prototype,"friction",void 0),r([a(cc.EditBox)],e.prototype,"restitution",void 0),r([a(cc.Label)],e.prototype,"gravityCur",void 0),r([a(cc.Label)],e.prototype,"frictionCur",void 0),r([a(cc.Label)],e.prototype,"restitutionCur",void 0),r([a(cc.EditBox)],e.prototype,"whiteNum",void 0),r([a(cc.EditBox)],e.prototype,"wallNum",void 0),r([s],e)}(cc.Component);o.default=h,cc._RF.pop()},{"./Global":"Global"}]},{},["Ball","EventMgr","Global","scene"]);